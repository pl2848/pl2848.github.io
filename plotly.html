<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Original plotly Codes</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">Personal Experience</a>
</li>
<li>
  <a href="dashboard.html">Dashborad</a>
</li>
<li>
  <a href="mailto:&lt;pl2848@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/pl2848/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/pei-liu-2a775b20a/">
    <span class="fa fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Original plotly Codes</h1>

</div>


<p>The New York City Department of Health and Mental Hygiene (DOHMH)
conducts unannounced restaurant inspections on an annual basis in order
to check for compliance with policies on food handling, food
temperature, personal hygiene of restaurant workers, and vermin control.
Regulation violations are each worth a pre-specified number of points,
which are totaled at the end of the inspection. Scores are converted
into grades, where a lower score earns a higher grade.</p>
<p>We’re going to make some plotly plots.</p>
<pre class="r"><code>library(tidyverse)
library(p8105.datasets)
library(plotly)</code></pre>
<p>First step is to import the dataset through p8105.datasets.</p>
<pre class="r"><code>data(&quot;rest_inspec&quot;)</code></pre>
<p>I did some data cleaning, and choose only Italian restaurants for
further analysis.</p>
<pre class="r"><code>data(&quot;rest_inspec&quot;)

nyc_inspections_italian = 
  rest_inspec %&gt;% 
  drop_na() %&gt;% 
  filter(cuisine_description == &quot;Italian&quot;)

nyc_inspections_italian</code></pre>
<pre><code>## # A tibble: 8,437 × 18
##    action boro  build…¹  camis criti…² cuisi…³ dba   inspection_date     inspe…⁴
##    &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;  
##  1 Viola… MANH… 378     4.04e7 Critic… Italian SALU… 2015-05-20 00:00:00 Cycle …
##  2 Viola… MANH… 132     5.00e7 Critic… Italian INNS… 2016-07-22 00:00:00 Cycle …
##  3 Viola… MANH… 425     4.15e7 Critic… Italian SPIN… 2015-10-05 00:00:00 Cycle …
##  4 Viola… MANH… 425     4.15e7 Critic… Italian SPIN… 2016-04-18 00:00:00 Cycle …
##  5 Viola… MANH… 132     5.00e7 Not Cr… Italian INNS… 2017-10-10 00:00:00 Cycle …
##  6 Viola… MANH… 425     4.15e7 Critic… Italian SPIN… 2017-03-30 00:00:00 Cycle …
##  7 Viola… MANH… 4       5.00e7 Not Cr… Italian ULIVO 2016-05-18 00:00:00 Pre-pe…
##  8 Viola… MANH… 378     4.04e7 Not Cr… Italian SALU… 2016-06-17 00:00:00 Cycle …
##  9 Viola… MANH… 108     5.00e7 Not Cr… Italian BARI… 2016-03-07 00:00:00 Pre-pe…
## 10 Viola… MANH… 425     4.15e7 Critic… Italian SPIN… 2017-03-30 00:00:00 Cycle …
## # … with 8,427 more rows, 9 more variables: phone &lt;chr&gt;, record_date &lt;dttm&gt;,
## #   score &lt;int&gt;, street &lt;chr&gt;, violation_code &lt;chr&gt;,
## #   violation_description &lt;chr&gt;, zipcode &lt;int&gt;, grade &lt;chr&gt;, grade_date &lt;dttm&gt;,
## #   and abbreviated variable names ¹​building, ²​critical_flag,
## #   ³​cuisine_description, ⁴​inspection_type</code></pre>
<p>My first plot:</p>
<pre class="r"><code># Plotly line graph: This scatter plot shows the mean score trends of Italian restaurants through 2017 by Borough.
nyc_inspections_italian %&gt;%
  separate(inspection_date, c(&quot;year&quot;, &quot;month&quot;, &quot;date&quot;)) %&gt;% 
  filter(year == 2017) %&gt;% 
  group_by(boro, month) %&gt;% 
  summarise(mean_score = mean(as.numeric(score))) %&gt;% 
  plot_ly(
    x = ~month, y = ~mean_score, type = &quot;scatter&quot;, mode = &quot;lines&quot;,
    color = ~boro, alpha = 1)</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;boro&#39;. You can override using the
## `.groups` argument.</code></pre>
<div id="htmlwidget-3b69fe0f76e65ed2ae28" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b69fe0f76e65ed2ae28">{"x":{"visdat":{"f5728490947":["function () ","plotlyVisDat"]},"cur_data":"f5728490947","attrs":{"f5728490947":{"x":{},"y":{},"mode":"lines","color":{},"alpha":1,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"month","type":"category","categoryorder":"array","categoryarray":["01","02","03","04","05","06","07","08","09","10"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"mean_score"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["01","02","03","04","05","06","07","08","09","10"],"y":[24,10,10.4285714285714,16.5,14.6,14.8571428571429,12,8.66666666666667,9.4,18.2631578947368],"mode":"lines","type":"scatter","name":"BRONX","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["01","02","03","04","05","06","07","08","09","10"],"y":[17.1304347826087,11.2903225806452,10.3548387096774,8.71428571428571,10.2592592592593,11.6216216216216,10.4,11.6666666666667,13.9714285714286,17.5],"mode":"lines","type":"scatter","name":"BROOKLYN","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["01","02","03","04","05","06","07","08","09","10"],"y":[12.1583333333333,10.421875,11.247311827957,11.2365591397849,12.384,11.9306930693069,10.6666666666667,16.3230769230769,15.7027027027027,17.4268292682927],"mode":"lines","type":"scatter","name":"MANHATTAN","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["01","02","03","04","05","06","07","08","09","10"],"y":[13.1851851851852,9.72727272727273,10.5263157894737,19,9.52173913043478,9.3448275862069,10.25,25.5652173913043,11.5714285714286,16.6],"mode":"lines","type":"scatter","name":"QUEENS","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["01","02","03","04","05","06","07","08","09","10"],"y":[9.72727272727273,12.0526315789474,9.8,11.6428571428571,16.8,13,11.3333333333333,17.3571428571429,12.8888888888889,25.2],"mode":"lines","type":"scatter","name":"STATEN ISLAND","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>My second plot:</p>
<pre class="r"><code># Plotly barchart: This barchart shows the number of Italian restaurant with Grade A in different Borough in 2017.
nyc_inspections_italian %&gt;% 
  separate(inspection_date, c(&quot;year&quot;, &quot;month&quot;, &quot;date&quot;)) %&gt;%
  filter(grade == &quot;A&quot;, year == 2017) %&gt;% 
  count(boro) %&gt;% 
  mutate(boro = fct_reorder(boro, n)) %&gt;% 
  plot_ly(x = ~boro, y = ~n, color = ~boro, type = &quot;bar&quot;, colors = &quot;viridis&quot;)</code></pre>
<div id="htmlwidget-3e8715a01f4ab05b9086" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3e8715a01f4ab05b9086">{"x":{"visdat":{"f572b4cd0ec":["function () ","plotlyVisDat"]},"cur_data":"f572b4cd0ec","attrs":{"f572b4cd0ec":{"x":{},"y":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"boro","type":"category","categoryorder":"array","categoryarray":["BRONX","STATEN ISLAND","QUEENS","BROOKLYN","MANHATTAN"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"n"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["BRONX"],"y":[69],"type":"bar","name":"BRONX","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["STATEN ISLAND"],"y":[108],"type":"bar","name":"STATEN ISLAND","marker":{"color":"rgba(59,82,139,1)","line":{"color":"rgba(59,82,139,1)"}},"textfont":{"color":"rgba(59,82,139,1)"},"error_y":{"color":"rgba(59,82,139,1)"},"error_x":{"color":"rgba(59,82,139,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["QUEENS"],"y":[181],"type":"bar","name":"QUEENS","marker":{"color":"rgba(33,144,141,1)","line":{"color":"rgba(33,144,141,1)"}},"textfont":{"color":"rgba(33,144,141,1)"},"error_y":{"color":"rgba(33,144,141,1)"},"error_x":{"color":"rgba(33,144,141,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["BROOKLYN"],"y":[257],"type":"bar","name":"BROOKLYN","marker":{"color":"rgba(93,200,99,1)","line":{"color":"rgba(93,200,99,1)"}},"textfont":{"color":"rgba(93,200,99,1)"},"error_y":{"color":"rgba(93,200,99,1)"},"error_x":{"color":"rgba(93,200,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["MANHATTAN"],"y":[897],"type":"bar","name":"MANHATTAN","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>My third plot:</p>
<pre class="r"><code># Plotly boxplot: This boxplot displays the scores in each Borough in 2017. The higher the score, the more severe of the violations.
nyc_inspections_italian %&gt;% 
  separate(inspection_date, c(&quot;year&quot;, &quot;month&quot;, &quot;date&quot;)) %&gt;%
  filter(year == 2017) %&gt;% 
  mutate(score = as.numeric(score),
    boro = fct_reorder(boro, score)) %&gt;% 
  plot_ly(y = ~score, color = ~boro, type = &quot;box&quot;, colors = &quot;viridis&quot;)</code></pre>
<div id="htmlwidget-2b8150ab9a820a46c9dc" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2b8150ab9a820a46c9dc">{"x":{"visdat":{"f572716aa9ea":["function () ","plotlyVisDat"]},"cur_data":"f572716aa9ea","attrs":{"f572716aa9ea":{"y":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"score"},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(68,1,84,0.5)","y":[4,10,4,10,13,10,2,13,10,12,10,10,12,13,13,12,10,12,12,24,12,24,9,9,24,24,24,9,12,7,11,11,11,9,9,8,7,10,13,12,12,8,7,13,10,13,8,7,10,22,10,22,10,10,10,10,10,2,10,22,22,7,12,12,22,22,7,7,10,10,9,9,7,11,13,7,11,13,8,13,11,13,13,8,11,13,11,13,11,9,5,9,9,9,8,8,12,8,12,9,2,9,10,9,13,13,12,13,13,12,10,10,9,9,9,12,12,13,12,49,12,49,12,49,49,13,49,49,49,13,49,49,13,9,9,9,10,10,11,11,10,10,12,12,12,12,10,9,9,10,10,9,15,13,13,13,15,10,9,9,7,7,9,12,12,12,36,9,36,36,13,13,36,36,9,36,36,7,11,11,5,7,13,12,4,12,12,12,12,4,13,4,13,12,13,11,11,19,19,19,10,10,7,7,13,13,11,11,11,5,3,7,7],"type":"box","name":"QUEENS","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(59,82,139,0.5)","y":[23,7,23,23,22,7,23,22,22,22,23,22,13,13,11,11,10,9,12,23,20,11,12,10,31,10,20,11,9,31,11,13,23,11,23,10,12,31,31,11,11,11,13,20,13,11,11,20,13,13,13,7,8,10,12,10,12,2,10,7,12,10,10,8,11,11,12,12,10,13,13,10,13,12,12,12,7,5,7,12,12,12,23,7,23,23,23,23,23,7,2,11,5,5,11,11],"type":"box","name":"BRONX","marker":{"color":"rgba(59,82,139,1)","line":{"color":"rgba(59,82,139,1)"}},"line":{"color":"rgba(59,82,139,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(33,144,141,0.5)","y":[11,20,50,20,9,5,20,20,50,20,7,13,7,12,12,20,12,11,12,13,13,9,11,50,8,11,6,11,10,7,50,8,20,12,9,50,10,50,9,9,12,10,7,11,12,5,10,13,12,12,10,13,7,7,9,9,9,2,12,12,12,10,7,13,12,2,12,13,8,13,12,13,12,9,12,5,5,9,12,8,7,13,10,22,12,22,9,13,11,11,22,12,22,10,22,12,13,13,9,27,13,13,27,27,13,10,10,13,13,27,27,27,13,10,6,7,12,13,13,9,13,12,13,12,13,10,13,13,10,13,7,12,13,10,5,13,7,7,10,9,7,12,12,13,9,13,13,9,12,5,12,10,13,12,10,12,12,13,12,13,12,12,6,8,6,8,4,12,13,12,8,8,13,12,2,7,20,7,11,7,20,20,11,12,12,13,13,10,12,13,11,11,12,13,12,10,13,13,10,11,10,13,12,9,22,22,9,22,7,22,7,12,12,11,11,13,12,12,12,12,13,11,13,13,13,13,9,9,9,4,13,6,2,20,20,4,13,20,20,8,8,6,12,12,8,12,12,11,5,11,12,9,12,11,11,11,13,12,19,19,13,19,12,12,19,12,12,12,9,9,2,5,9,27,3,9,9,13,9,27,12,27,27,12,13,9,9,11,12,26,12,11,8,11,22,22,12,12,22,12,11,9,11,9,13,13,13,22,8,22,5,26,26,12,26,22],"type":"box","name":"BROOKLYN","marker":{"color":"rgba(33,144,141,1)","line":{"color":"rgba(33,144,141,1)"}},"line":{"color":"rgba(33,144,141,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(93,200,99,0.5)","y":[8,22,22,7,22,11,22,11,12,10,7,5,10,10,8,11,4,10,12,11,4,9,22,10,5,12,10,11,12,12,10,13,13,8,12,12,10,5,20,13,12,10,13,7,20,13,11,12,11,12,12,11,12,7,10,20,13,20,9,12,11,12,12,10,13,7,13,10,13,12,7,12,31,12,8,12,9,9,9,12,12,10,9,31,12,5,13,11,12,10,27,81,9,81,13,13,7,27,9,31,13,12,13,81,27,9,12,27,8,12,81,9,8,12,31,12,81,7,81,31,13,10,11,11,11,12,12,13,13,13,13,12,12,12,9,10,10,9,12,10,10,23,12,23,12,12,4,4,12,23,2,12,12,11,23,10,12,23,11,13,4,11,2,13,9,13,9,13,11,4,12,12,12,13,12,3,7,13,12,10,10,12,9,13,39,9,10,12,13,11,10,7,12,10,12,5,10,12,10,9,7,23,39,9,13,12,23,10,12,9,9,10,2,10,12,13,7,39,39,7,5,9,13,10,10,13,10,9,39,12,13,13,12,12,9,39,9,10,12,10,39,13,9,5,12,12,11,9,9,23,10,12,9,7,12,13,10,19,12,24,10,7,7,10,13,12,13,12,7,10,7,9,9,5,7,12,24,9,11,10,13,12,9,24,5,8,11,11,12,9,9,11,7,7,12,8,12,12,3,7,10,7,7,19,24,10,10,7,13,5,10,10,9,10,12,19,12,11,12,13,11,13,12,5,13,13,9,7,8,11,9,13,7,27,12,13,7,2,10,9,13,26,12,8,2,7,12,8,13,7,5,13,9,5,26,12,13,21,13,13,10,12,14,12,8,12,13,9,13,13,2,11,8,12,12,27,14,7,12,26,12,21,9,26,5,27,13,21,8,12,10,9,7,9,11,14,5,13,5,13,27,11,14,12,9,12,9,9,9,9,12,9,10,9,9,12,13,8,12,14,13,9,7,12,13,13,5,10,13,9,10,13,12,27,21,14,10,14,10,11,6,12,12,18,11,8,10,12,8,9,9,9,2,9,9,12,18,8,9,9,12,13,9,10,11,9,10,13,10,11,9,12,11,13,10,17,11,9,9,9,9,9,13,13,9,17,6,10,2,10,13,13,10,10,18,13,10,6,13,11,11,9,11,9,12,8,10,17,11,23,23,13,10,11,9,11,7,13,23,7,12,7,9,11,12,12,12,13,13,12,12,9,8,13,5,8,11,12,13,10,13,13,9,12,23,13,12,10,10,23,11,11,11,7,9,11,23,12,12,12,22,11,10,12,12,12,12,11,12,4,12,11,12,12,12,12,12,22,10,11,10,12,11,10,22,22,2,12,18,13,11,13,7,10,12,7,12,12,18,10,12,11,13,12,12,18,13,12,10,12,7,7,11,10,7,12,12,10,25,12,13,12,4,12,9,11,12,9,25,25,10,13,12,7,13,10,12,12,10,5,7,12,7,9,13,13,12,25,13,4,7,9,12,13,13,7,7,9,10,13,9,13,10,12,13,12,10,10,13,7,9,13,12,12,10,7,7,10,7,10,13,13,7,13,9,13,10,10,10,13,4,13,13,26,4,10,13,13,10,26,13,7,12,26,26,10,7,12,26,13,7,13,12,13,9,13,7,7,13,17,13,13,13,12,8,9,17,15,8,9,13,12,8,16,13,12,8,13,17,17,16,13,22,4,15,10,44,7,7,12,22,44,10,10,4,13,22,44,8,10,2,12,13,12,10,8,10,7,44,13,44,7,7,44,12,22,16,10,2,44,13,7,12,11,12,12,48,12,48,12,48,12,4,11,12,48,11,48,10,4,12,48,12,10,12,12,48,12,12,12,12,10,8,9,7,27,12,10,12,24,6,12,27,10,12,27,19,24,27,6,10,12,24,10,12,9,12,7,12,24,19,24,2,10,12,19,7,10,2,12,6,10,10,27,7,8,10,12,8,10,7,2,12,12,8,13,13,13,13,13,8,7,9,12,9,9,12,7,12,12,13,9,8,9,9,13,7,8,9,7,5,13,9,13,9,12,12,9,12,13,10,13,10,4,5,11,25,25,20,20,25,11,5,20,25,10,11,10,7,20,13,8,5,12,12,13,13,12,8,12,12,12,3,27,27,27,27,27,27,27,7,7,7,12,12,5,11,5,10,39,18,11,13,12,11,7,7,12,12,39,10,39,11,13,18,39,9,10,12,12,18,7,12,6,12,7,39,7,12,39,13,12,7,9,6,7,12,11,7,7,39,12,7,12,12,12,10,5,8,10,4,4,5,8,10,8,12,9,10,13,12,13,13,10,7,12,7,12,13,12,13,12,13,12,13,9,7,9,2,12,10,12,12,10,2,10,12,2,7,7,9,11,11,7,7,9,9,9,9,11,13,11,13,13,12,5,13,2,11,9,12,13,12,12,12,12,12,12,13],"type":"box","name":"MANHATTAN","marker":{"color":"rgba(93,200,99,1)","line":{"color":"rgba(93,200,99,1)"}},"line":{"color":"rgba(93,200,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(253,231,37,0.5)","y":[25,25,12,25,13,12,25,25,13,7,12,6,7,7,16,12,10,21,11,15,12,11,22,7,17,9,16,22,21,22,15,11,11,9,13,22,12,10,7,21,2,10,12,22,11,13,17,10,17,13,10,13,16,12,21,12,12,12,10,12,12,13,10,13,13,12,12,12,8,12,10,8,12,12,11,12,12,12,27,12,11,12,12,27,12,12,12,27,27,12,12,11,12,12,12,10,13,7,13,13,10,7,13,13,13,10,12,12,12,26,26,13,26,26,10,13,26,26,9,12,12,26,2,14,26,9,12,14,26,12,7,7,26,9,14,12,12,44,6,44,44,13,12,6,10,6,12,12,13,7,6,10,10,6,44,9,9,44],"type":"box","name":"STATEN ISLAND","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
